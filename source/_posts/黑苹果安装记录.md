---
title: 黑苹果安装记录
date: 2019-05-07 14:08:03
tags: 黑苹果
category: 黑苹果
---

最好百度 Google 搜索 自己电脑型号的
借鉴博客:

黑果小兵:
安装macOS Mojave:
`https://blog.daliansky.net/Lenovo-Xiaoxin-Air-13-macOS-Mojave-installation-tutorial.html`
clover 使用:
`https://blog.daliansky.net/clover-user-manual.html`
Hackintool 内核补丁(启动系统后使用)
`https://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html`
Clover Configurator 可视化 配置程序
`https://blog.daliansky.net/Clover-Configurator-Chinese-Version.html`

# 知己知彼

* cpu 的架构
* 主板的型号
* 声卡网卡型号
* 

# 安装

1. 安装 etcher(https://www.balena.io/etcher/) 烧录镜像;Windows操作系统下面,以系统管理员身份打开cmd窗口,分出 EFI 区

```
list disk           # 磁盘列表
select disk n       # 选择EFI分区所在的磁盘，n为磁盘号
list partition      # 磁盘分区列表
select partition n  # 选择EFI分区，n为EFI分区号
set id="ebd0a0a2-b9e5-4433-87c0-68b6b72699c7"        # 设置为基本数据分区
assign letter=X     # x为EFI分区盘符
exit                                # 退出diskpart
```
2.下载安装镜像通过 transmac 安装也可以

(最好用原版镜像)

## 安装声卡

AppleALC声卡仿冒教程
https://blog.daliansky.net/Use-AppleALC-sound-card-to-drive-the-correct-posture-of-AppleHDA.html 

AppleALC支持的Codecs列表
https://blog.daliansky.net/AppleALC-Supported-codecs.html 

借助VoodooHDA自带的getdump找出有效节点和路径
https://blog.daliansky.net/With-VoodooHDA-comes-getdump-find-valid-nodes-and-paths.html


启动后我发现没声音,百度了通过驱动AppleALC和 Lilu 驱动,通过注入 layout-id 来驱动声卡

问题: 排查了半天,clover 启动参数有 -alcoff - 禁用自身;赶紧去掉....

重点: 如何找自己的  layout-id 

 github 有个开源的项目 `https://github.com/acidanthera/AppleALC`
 
 找见自己的声卡型号 codecs 发现注入 layout-id 
 
 `https://github.com/acidanthera/AppleALC/wiki/Supported-codecs`
 
  我的声卡型号是 Realtek ALC662
  
  ```
  Realtek	ALC662	0x100101, 0x100300 layout 5, 7, 11, 12, 13	13 (10.9)	—
  ```

 我通过Clover Configurator ->device->layout-id 注入全部,最后 13 可以驱动外放,有的能驱动耳机,估计文档`MinKernel`就是 laytou-id,我猜的,没事,
