---
title: Mysql锁机制
date: 2017-07-30 19:08:59
tags: Mysql
category: Mysql
---
> mysql锁适用高并发处理场景,如抢购,拼团.如果你项目不存在,请跳过这篇文章.

### 开始前你需要知道的
#### Mysql中不同的存储引擎支持不同的锁机制
  * MyISAM和MEMORY存储引擎采用的表级锁
  * BDB采用的页面锁
  * InnoDB存储引擎采用的行级锁
#### Mysql锁出现的原因
mysql中锁的出现，其实就是为了处理并发情况下出现的问题，所以，如果你的应用并发量比较小，可能很难看到一些锁等待，死锁的现象。
#### 一些简单的常识
 互斥：是说两件事不可能同时发生。
 缺省：即默认。通常所说的缺省情况下，意思即默认情况

 ### myisam下锁的介绍和实践一
 #### MyISAM引擎下如何设置表锁
 MyISAM在执行查询语句（SELECT）前，会自动给涉及的所有表加读锁，我们不需要手动去做任何的操作！

 MyISAM在执行更新操作 （UPDATE、DELETE、INSERT等）前，会自动给涉及的表加写锁，，我们不需要手动去做任何的操作，因此，只要给表设置myisam引擎，就可以了。
 #### 阻塞发生的场景
 对MyISAM表读操作时候，不会阻塞其他用户对同一表的读请求，但会阻塞对同一表的写请求

 对MyISAM表写操作，则会阻塞其他用户对该表的读写操作,当一个线程获得对一个表的写锁后可以对表进行更新操作，其他线程的读、写操作都会等待，直到锁被释放为止
